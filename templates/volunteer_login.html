<!DOCTYPE html>
<html lang="{{ lang or 'en' }}">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>{{ 'AgriConnect · Volunteer Login' if (lang or 'en') != 'te' else 'AgriConnect · సేవకుల లాగಿನ್' }}</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">
    <script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        primary: "#4CAF50",
                        "primary-dark": "#2E7D32",
                        accent: "#FFC107",
                        backdrop: "#F3F5F2"
                    },
                    fontFamily: {
                        display: ["Public Sans", "Noto Sans Telugu", "sans-serif"]
                    }
                }
            }
        }
    </script>
    <style>
        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }
    </style>
</head>
<body class="min-h-screen bg-backdrop font-display text-[#2f2f2f]">
    {% set is_te = (lang == 'te') %}
    <div class="relative flex min-h-screen items-center justify-center overflow-hidden px-4 py-10">
        <div class="absolute inset-0 bg-gradient-to-br from-primary/10 via-backdrop to-white"></div>
        <div class="relative z-10 w-full max-w-md space-y-6 rounded-3xl bg-white/95 p-8 shadow-2xl shadow-primary/10 backdrop-blur">
            <div class="space-y-2 text-center">
                <p class="text-xs uppercase tracking-[0.45em] text-primary">AgriConnect</p>
                <h1 class="text-2xl font-bold text-[#2f2f2f]">{{ 'Volunteer Login' if not is_te else 'సేవకుల లాగిన్' }}</h1>
                <p class="text-sm text-gray-500">{{ 'Support farmers and workers, coordinate requests, and keep your community connected.' if not is_te else 'రైతులు, కార్మికులకు సహాయం చేసి, అభ్యర్థనలను సమన్వయం చేసి, మీ సమాజాన్ని కలిపి ఉంచండి.' }}</p>
            </div>

            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    {% for category, msg in messages %}
                        <div class="flex items-start gap-3 rounded-2xl border border-primary/20 bg-primary/5 px-4 py-3 text-sm text-[#2f2f2f]">
                            <span class="material-symbols-outlined text-primary">info</span>
                            <p>{{ msg }}</p>
                        </div>
                    {% endfor %}
                {% endif %}
            {% endwith %}

            {% if error %}
                <div class="flex items-start gap-3 rounded-2xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700">
                    <span class="material-symbols-outlined">error_circle</span>
                    <p>{{ error }}</p>
                </div>
            {% endif %}

            <form method="POST" action="/volunteer_login" class="space-y-4">
                <label class="grid gap-2 text-sm font-semibold text-[#3a3a3a]">
                    <span>{{ 'Name' if not is_te else 'పేరు' }}</span>
                    <input type="text" name="name" placeholder="{{ 'Enter your name' if not is_te else 'మీ పేరును నమోదు చేయండి' }}"
                           required
                           class="w-full rounded-2xl border border-primary/30 bg-white px-4 py-3 text-sm text-[#2f2f2f] focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30">
                </label>

                <label class="grid gap-2 text-sm font-semibold text-[#3a3a3a]">
                    <span>{{ 'Password' if not is_te else 'సంకేతపదం' }}</span>
                    <input type="password" name="password" placeholder="{{ 'Enter your password' if not is_te else 'మీ సంకేతపదాన్ని నమోదు చేయండి' }}"
                           required
                           class="w-full rounded-2xl border border-primary/30 bg-white px-4 py-3 text-sm text-[#2f2f2f] focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30">
                </label>

                <button type="submit"
                        class="flex w-full items-center justify-center gap-2 rounded-2xl bg-primary px-4 py-3 text-sm font-semibold text-white transition hover:bg-primary-dark">
                    {{ 'Login' if not is_te else 'లాగిన్ చేయండి' }}
                </button>
            </form>

            <div class="text-center text-sm text-gray-600">
                <p>{{ 'New volunteer?' if not is_te else 'కొత్త సేవకుడా?' }}
                    <a href="/volunteer_reg" class="font-semibold text-primary hover:underline">{{ 'Register' if not is_te else 'నమోదు' }}</a>
                </p>
                <p class="mt-2">
                    <a href="/get-started" class="inline-flex items-center gap-1 text-primary hover:underline">
                        <span aria-hidden="true">&larr;</span>
                        <span>{{ 'Back to introduction' if not is_te else 'పరిచయానికి తిరుగు' }}</span>
                    </a>
                </p>
            </div>
        </div>
    </div>
</body>
</html>
