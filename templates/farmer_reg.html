<!DOCTYPE html>
<html lang="{{ lang or 'en' }}">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>{{ 'AgriConnect · Farmer Registration' if (lang or 'en') != 'te' else 'AgriConnect · రైతు నమోదు' }}</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">
    <script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        primary: "#4CAF50",
                        "primary-dark": "#2E7D32",
                        supporting: "#8D6E63",
                        accent: "#FFC107",
                        backdrop: "#F2F7F1"
                    },
                    fontFamily: {
                        display: ["Public Sans", "Noto Sans Telugu", "sans-serif"]
                    }
                }
            }
        }
    </script>
    <style>
        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }
    </style>
</head>
<body class="min-h-screen bg-backdrop font-display text-[#2f2f2f]">
    {% set is_te = (lang == 'te') %}
    <div class="relative flex min-h-screen items-center justify-center overflow-hidden px-4 py-10">
        <div class="absolute inset-0 bg-gradient-to-br from-primary/10 via-backdrop to-white"></div>
        <div class="relative z-10 w-full max-w-2xl space-y-6 rounded-3xl bg-white/95 p-10 shadow-2xl shadow-primary/10 backdrop-blur">
            <div class="space-y-2 text-center">
                <p class="text-xs uppercase tracking-[0.45em] text-primary">AgriConnect</p>
                <h1 class="text-2xl font-bold text-[#2f2f2f]">{{ 'Farmer Registration' if not is_te else 'రైతు నమోదు' }}</h1>
                <p class="text-sm text-gray-500">{{ 'Create your account to post tasks, coordinate with volunteers, and reach nearby workers.' if not is_te else 'పనులను పోస్ట్ చేసి, సేవకులతో సమన్వయం చేయడానికి మరియు సమీప కార్మికులను చేరుకోవడానికి మీ ఖాతాను సృష్టించండి.' }}</p>
            </div>

            {% if error %}
                <div class="flex items-start gap-3 rounded-2xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700">
                    <span class="material-symbols-outlined">error_circle</span>
                    <p>{{ error }}</p>
                </div>
            {% endif %}

            <form method="POST" action="/farmer_reg" class="grid gap-4 md:grid-cols-2">
                <label class="grid gap-2 text-sm font-semibold text-[#3a3a3a]">
                    <span>{{ 'Name' if not is_te else 'పేరు' }}</span>
                    <input type="text" name="name" placeholder="{{ 'Enter your name' if not is_te else 'మీ పేరును నమోదు చేయండి' }}"
                           required
                           class="w-full rounded-2xl border border-primary/30 bg-white px-4 py-3 text-sm text-[#2f2f2f] focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30">
                </label>

                <label class="grid gap-2 text-sm font-semibold text-[#3a3a3a]">
                    <span>{{ 'Phone' if not is_te else 'ఫోన్' }}</span>
                    <input type="tel" name="phone" placeholder="{{ '10-digit phone number' if not is_te else '10 అంకెల ఫోన్ నంబర్' }}"
                           pattern="[0-9]{10}" required
                           class="w-full rounded-2xl border border-primary/30 bg-white px-4 py-3 text-sm text-[#2f2f2f] focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30">
                </label>

                <label class="grid gap-2 text-sm font-semibold text-[#3a3a3a]">
                    <span>{{ 'Password' if not is_te else 'సంకేతపదం' }}</span>
                    <input type="password" name="password" placeholder="{{ 'Create a password' if not is_te else 'సంకేతపదాన్ని సృష్టించండి' }}"
                           required
                           class="w-full rounded-2xl border border-primary/30 bg-white px-4 py-3 text-sm text-[#2f2f2f] focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30">
                </label>

                <label class="grid gap-2 text-sm font-semibold text-[#3a3a3a]">
                    <span>{{ 'Village' if not is_te else 'గ్రామం' }}</span>
                    <select name="village" required
                            class="w-full rounded-2xl border border-primary/30 bg-white px-4 py-3 text-sm text-[#2f2f2f] focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30">
                        <option value="">{{ 'Select village' if not is_te else 'గ్రామాన్ని ఎంచుకోండి' }}</option>
                        {% for v in villages %}
                            <option value="{{ v }}">{{ v|capitalize }}</option>
                        {% endfor %}
                    </select>
                </label>

                <div class="md:col-span-2 grid gap-4 rounded-2xl border border-primary/20 bg-primary/5 p-4 text-sm text-gray-600">
                    <p class="font-semibold text-primary">{{ 'Why register?' if not is_te else 'ఎందుకు నమోదు?' }}</p>
                    <ul class="grid gap-2 list-disc px-5">
                        {% if is_te %}
                            <li>కార్మికుల కోసం వివరమైన పనులను పోస్ట్ చేయండి</li>
                            <li>స్థానిక సేవకులతో సమన్వయం చేయండి</li>
                            <li>అంగీకరించిన మరియు పూర్తయిన పనులను ట్రాక్ చేయండి</li>
                        {% else %}
                            <li>Post detailed tasks for workers</li>
                            <li>Coordinate with local volunteers</li>
                            <li>Track accepted and completed work</li>
                        {% endif %}
                    </ul>
                </div>

                <button type="submit"
                        class="md:col-span-2 flex w-full items-center justify-center gap-2 rounded-2xl bg-primary px-4 py-3 text-sm font-semibold text-white transition hover:bg-primary-dark">
                    {{ 'Register' if not is_te else 'నమోదు' }}
                </button>
            </form>

            <div class="text-center text-sm text-gray-600">
                <p>{{ 'Already registered?' if not is_te else 'ఇప్పటికే నమోదు చేశారా?' }}
                    <a href="/farmer_login" class="font-semibold text-primary hover:underline">{{ 'Login' if not is_te else 'లాగిన్' }}</a>
                </p>
                <p class="mt-2">
                    <a href="/get-started" class="inline-flex items-center gap-1 text-primary hover:underline">
                        <span aria-hidden="true">&larr;</span>
                        <span>{{ 'Back to introduction' if not is_te else 'పరిచయానికి తిరుగు' }}</span>
                    </a>
                </p>
            </div>
        </div>
    </div>
</body>
</html>
